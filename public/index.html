<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather News System</title>
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>üå°Ô∏è Weather News System</h1>
            <p>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
            <span class="news-date" id="currentDate"></span>
        </header>

        <div class="main-content">
            <div class="content-main">
                <section class="form-section">
                    <h2>–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—É—é –∑–∞–ø–∏—Å—å</h2>
                    <form id="addRecordForm" class="record-form">
                        <div class="form-group">
                            <label for="region">–†–µ–≥–∏–æ–Ω:</label>
                            <input type="text" id="region" required placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–∞">
                        </div>
                        
                        <div class="form-group">
                            <label for="temperature">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C):</label>
                            <input type="number" id="temperature" required step="0.1" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É">
                        </div>
                        
                        <div class="form-group">
                            <label for="precipitation">–û—Å–∞–¥–∫–∏ (–º–º):</label>
                            <input type="number" id="precipitation" required min="0" step="0.1" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å–∞–¥–∫–æ–≤">
                        </div>
                        
                        <div class="form-group">
                            <label for="date">–î–∞—Ç–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è:</label>
                            <input type="date" id="date" required>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
                    </form>
                </section>

                <section class="search-section">
                    <h2>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä</h2>
                    
                    <div class="search-actions">
                        <div class="form-group">
                            <label for="searchDate">–ü–æ–∏—Å–∫ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –ø–æ –¥–∞—Ç–µ:</label>
                            <div class="search-input-group">
                                <div class="form-group">
                                    <input type="date" id="searchDate" required>
                                </div>
                                <button type="button" id="searchByDate" class="btn btn-secondary">–ù–∞–π—Ç–∏ –º–∏–Ω–∏–º—É–º</button>
                            </div>
                        </div>
                        
                        <div class="analytics-actions">
                            <button type="button" id="findColdest" class="btn btn-info">
                                ‚ùÑÔ∏è –ù–∞–π—Ç–∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –º–∏–Ω–∏–º—É–º
                            </button>
                        </div>
                    </div>
                </section>

                <section class="edit-section">
                    <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏</h2>
                    <form id="editRecordForm" class="record-form" style="display: none;">
                        <input type="hidden" id="editRecordId">
                        
                        <div class="form-group">
                            <label for="editRegion">–†–µ–≥–∏–æ–Ω:</label>
                            <input type="text" id="editRegion" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="editTemperature">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C):</label>
                            <input type="number" id="editTemperature" required step="0.1">
                        </div>
                        
                        <div class="form-group">
                            <label for="editPrecipitation">–û—Å–∞–¥–∫–∏ (–º–º):</label>
                            <input type="number" id="editPrecipitation" required min="0" step="0.1">
                        </div>
                        
                        <div class="form-group">
                            <label for="editDate">–î–∞—Ç–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è:</label>
                            <input type="date" id="editDate" required>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-success">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                            <button type="button" id="cancelEdit" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                        </div>
                    </form>
                </section>

                <!-- –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π -->
                <section class="records-section">
                    <div class="section-header">
                        <h2>–ê—Ä—Ö–∏–≤ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π</h2>
                        <button type="button" id="refreshData" class="btn btn-secondary">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                    </div>
                    <div id="recordsList" class="records-list">

                    </div>
                </section>
            </div>

            <div class="weather-sidebar">
                <div class="weather-widget">
                    <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã</h3>
                    <div id="weatherStats">
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</p>
                    </div>
                </div>
                
                <div class="news-feed">
                    <h3>‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                    <div class="action-item">
                        <button type="button" id="initTestData" class="btn btn-info btn-block">
                            üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
                        </button>
                    </div>
                    <div class="action-item">
                        <button type="button" id="viewStats" class="btn btn-secondary btn-block">
                            üìà –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                        </button>
                    </div>
                </div>
                
                <div class="news-feed">
                    <h3>‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ</h3>
                    <div class="info-item">
                        <h4>‚úÖ MongoDB –ø–æ–¥–∫–ª—é—á–µ–Ω–∞</h4>
                        <p>–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</p>
                        <span class="info-date">–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ</span>
                    </div>
                    <div class="info-item">
                        <h4>üå°Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã</h4>
                        <p>–°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏</p>
                        <span class="info-date">–í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</span>
                    </div>
                </div>

                <div class="news-feed">
                    <h3>üìã –ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏</h3>
                    <div class="news-item">
                        <h4>–ó–∞–ø—É—â–µ–Ω–∞ –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞</h4>
                        <p>Weather News System —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å MongoDB</p>
                        <span class="news-date">–°–µ–≥–æ–¥–Ω—è</span>
                    </div>
                    <div class="news-item">
                        <h4>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏</h4>
                        <p>–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã</p>
                        <span class="news-date">–ù–µ–¥–µ–ª—é –Ω–∞–∑–∞–¥</span>
                    </div>
                </div>
            </div>
        </div>

        <section id="searchResults" class="search-results" style="display: none;">
            <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞</h2>
            <div id="searchResultsContent"></div>
            <button type="button" id="closeSearchResults" class="btn btn-secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
        </section>

        <section id="detailedStats" class="search-results" style="display: none;">
            <h2>–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <div id="detailedStatsContent">
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>üìÖ –ó–∞ —Å–µ–≥–æ–¥–Ω—è</h3>
                        <div class="stat-value" id="todayStats">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    </div>
                    <div class="stat-card">
                        <h3>üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <div class="stat-value" id="overallStats">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    </div>
                    <div class="stat-card">
                        <h3>‚ùÑÔ∏è –†–µ–∫–æ—Ä–¥—ã</h3>
                        <div class="stat-value" id="recordStats">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    </div>
                </div>
            </div>
            <button type="button" id="closeStats" class="btn btn-secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
        </section>
    </div>

    <script src="/js/app.js"></script>
    <script>
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString('ru-RU', {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });

        const additionalStyles = `
            .section-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
            }
            
            .btn-block {
                display: block;
                width: 100%;
                margin-bottom: 10px;
            }
            
            .action-item, .info-item {
                padding: 10px 0;
                border-bottom: 1px solid #f0f0f0;
            }
            
            .action-item:last-child, .info-item:last-child {
                border-bottom: none;
            }
            
            .stats-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
                margin-bottom: 20px;
            }
            
            .stat-card {
                background: white;
                padding: 20px;
                border-radius: 8px;
                border-left: 4px solid #1e5799;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            }
            
            .stat-card h3 {
                color: #1e5799;
                margin-bottom: 15px;
                font-size: 1.1em;
            }
            
            .stat-value {
                font-size: 1.2em;
                color: #333;
            }
            
            .stat-item {
                display: flex;
                justify-content: space-between;
                margin-bottom: 8px;
                padding-bottom: 8px;
                border-bottom: 1px solid #f0f0f0;
            }
            
            .stat-item:last-child {
                border-bottom: none;
                margin-bottom: 0;
            }
            
            .stat-label {
                color: #666;
                font-weight: 500;
            }
            
            .stat-number {
                color: #1e5799;
                font-weight: 600;
            }
        `;
        
        const styleSheet = document.createElement('style');
        styleSheet.textContent = additionalStyles;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>